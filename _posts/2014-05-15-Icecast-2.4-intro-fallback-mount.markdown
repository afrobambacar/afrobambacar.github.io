---
layout: post
title:  "Icecast 2.4.0 intro, fallback-mount"
date:   2014-05-15
---

아이스캐스트에는 라디오를 라디오답게 만드는 설정이 있다. 사용자가 접속했을 때 제일 먼저 틀어줄 파일을 설정해두는 intro, 접속한 마운트가 스트림 상태가 아닐때 사용자를 다른 마운트로 옮기는 fallback-mount가 그것이다. 폴백 마운트는 정말로 마운트를 적어도 되지만 파일 위치를 적어도 된다. 아마도 웹캐스팅 라디오를 들을 때 중간 중간 로고송? 같은 것이 들리는게 저것이 아닐까 한다. (추측이다. 테스트 안해봤다.)

### intro

새로운 리스너가 접속했을 때 실행시킬 파일을 설정할 수 있다. 물론 기존 리스너에게는 전송되지 않는다. 포맷은 스트리밍 포맷과 동일해야 한다.

### fallback-mount 

폴백 마운트는 선택한 소스가 닫혔거나 리스너가 스트리밍 하고 있지 않은 마운트포인트에 접근했을 때 다른 마운트 포인트로 자동으로 이동시키는 대체 마운트포인트이다. 폴백 마운트는 마운트 당 1개만 등록할 수 있고, 같은 서버에서 같은 스트리밍 포맷으로 스트리밍 중인 마운트 포인트를 지정해야 한다.

만약 클라이언트가 폴백 마운트를 찾지 못했거나 대체할 마운트 포인트가 활성화 상태가 아니라서 이동할 수 없다면, 클라이언트들은 접속을 할 수 없게 된다. 그리고 만약에 클라이언트가 활성화 되지 않은 대체 마운트로 이동됐는데 거기에도 폴백 마운트가 설정되어 있으면 또 다른 마운트 포인트로 이동하게 된다. 즉, 이러한 멀티 레벨의 폴백은 클라이언트를 몇 단계의 다른 마운트 포인트로 이동시킬 수 있다.

폴백 마운트는 웹 루트에 위치해있는 파일로 대체할 수도 있다. 이것은 스트림이 없어지는 틈에 녹음된 파일을 재생하는 용도로 쓰기에 매우 유용하다. 파일은 리스너가 접속을 끊거나 스트림이 활성상태로 돌아왔거나, 리스너가 돌아왔을 때까지 반복된다. 파일 포맷은 스트림 포맷과 동일해야 한다. 

참고. [icecast 2.4.0 doc](http://www.icecast.org/docs/icecast-2.4.0/icecast2_config_file.html#mount)